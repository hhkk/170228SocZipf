<utds-form></utds-form>

<div class="utds-list-container">
    <div class="utds-list">
        <div>
            Utds(2)
            <form>
                By Location: <md-input dividerColor="primary" type="text" #searchtext placeholder="Enter Location"></md-input>
                <button md-button (click)="search(searchtext.value)">Find</button>
                Sort by name:
                <select class="form-control" #sort (change)="changeSortOrder(sort.value)">
                    <option value="1" selected>Ascending</option>
                    <option value="-1">Descending</option>
                </select>
            </form>
        </div>

        <pagination-controls class="pagination" (pageChange)="onPageChanged($event)"></pagination-controls>


        <div *ngFor="let utd of utds | async" class="utd-card">
            <a [routerLink]="['/utd', utd._id]">{{utd.name}}</a>
            @ {{utd.location.name}}
            |
            {{utd.description}}

            <button class="remove-utd" md-icon-button *ngIf="isOwner(utd)" (click)="removeUtd(utd)">
                <md-icon class="md-24">X</md-icon>
            </button>

            <div class="rsvp-container">
                <div class="rsvps-sum">
                    <div class="rsvps-amount">{{utd | rsvp:'yes'}}</div>
                    <div class="rsvps-title">Yes2</div>
                </div>
                <div class="rsvps-sum">
                    <div class="rsvps-amount">{{utd | rsvp:'maybe'}}</div>
                    <div class="rsvps-title">Maybe2</div>
                </div>
                <div class="rsvps-sum">
                    <div class="rsvps-amount">{{utd | rsvp:'no'}}</div>
                    <div class="rsvps-title">No2</div>
                </div>
            </div>
        </div>

        <pagination-controls class="pagination" (pageChange)="onPageChanged($event)"></pagination-controls>
    </div>
</div>